# Pomegranate AWS SDK

Provides promisified AWS APIs made available on the injector param `AWS`.

### Install

``` shell
yarn add pomegranate pomegranate-aws-sdk
# Or..
npm i -S pomegranate pomegranate-aws-sdk
```

## Configuration

This plugin exposes 3 configuration options.

The `awsApis` option accepts an array of AWS service name strings and/or objects that contain a name property
and optionally an options property that will be passed to the service when it is instantiated.
The `awsConfig` option will be passed as-is to `AWS-SDK`.
The `apiVersions` option can be used to specify the version string of the APIs in use.

``` javascript

exports.AwsSdk = function(Env){
  return {
    awsApis: ['S3', {name: 'SNS', options: {maxRetries: 5}}]
  },
  awsConfig: {
  	region: 'us-east-1'
  },
  apiVersions: {
  	s3: '2006-03-01',
  	SNS: '2010-03-31'
  }
}

```

## Usage

The plugin adds an `AWS` property to the Pomegranate dependency injector, this object will contain instantiated,
configured objects with property names corresponding to the services you provided in its config file.

It also exposes a helper method `AWS#isAvailable(string)` for use by downstream plugins who whish to determine if
a plugin is available.

## Available AWS APIs

Please see http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/ sidebar for supported services.

The AWS objects outside of the services Namespace should be considered "Advanced Usage" and treated with caution.

## Detailed Documentation

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [pomegranate-aws-sdk](#pomegranate-aws-sdk)
-   [options](#options)
-   [metadata](#metadata)
-   [plugin](#plugin)
    -   [load](#load)
    -   [start](#start)
    -   [stop](#stop)
-   [awsApis](#awsapis)
    -   [isAvailable](#isavailable)

## 

**Meta**

-   **license**: MIT {@link http&#x3A;//opensource.org/licenses/MIT}

## pomegranate-aws-sdk

A configurable loader for AWS-SDK

## options

**Properties**

-   `awsApis` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) | {name: [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String), options: [object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)})>** AWS Services that will be loaded into the base AWS injectable object.
    Can be either a string of the name of the AWS service, or an object with name and options parameters.
-   `awsConfig` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Global AWS configuration that will be provided to aws-sdk before any services are instantiated.
-   `apiVersions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Api versions this plugin will use, also loaded before any services are instantiated.

## metadata

**Properties**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** AwsSDK: Module Internal name used by its logger.
-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** service: Is a service type plugin.
-   `param` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** AWS: Available on the injector as AWS.

## plugin

### load

Load Hook - Builds the awsApis object and adds it to the injector.

**Parameters**

-   `inject`  
-   `loaded`  

Returns **[awsApis](#awsapis)** Adds awsApis to the injector as "AWS"

### start

Start Hook - Not Used.

**Parameters**

-   `done`  

### stop

Stop Hook - Not Used.

**Parameters**

-   `done`  

## awsApis

The Main object created by this plugin, containing all of the configured AWS service instances
available for use by any downstream plugin.

**Properties**

-   `isAvailable` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 
-   `AWS_Service_Name` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** A dynamic property storing the configured AWS API instance.
    there will be one for every service listed in the options.awsApis array setting.

### isAvailable

Allows downstream plugins to determine if an AWS API is available.

**Parameters**

-   `serviceString`  The name of the AWS API you wish to find the status of.

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 
